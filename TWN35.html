<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no">
		<manifest="android:windowSoftInputMode="adjustPan">
		<title>proezdnoy</title>
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
		<script src="https://telegram.org/js/telegram-web-app.js"></script>
		<script src="https://puzzlebot.top/webapp.js"></script>
		<link rel="stylesheet" href="https://neviie.github.io/Style.css">
	</head>
<body>
<script>
	let tg = window.Telegram.WebApp; 
	const userId = tg.initDataUnsafe.user.id;
    const url = 'https://api.puzzlebot.top/api?token=2s1OVLz5iHnPeU7dp8ZGAUrFww8cQ4p9&method=getVariableValue&variable=custom_variable_JHCW5J5N0KX6CBUG&user_id=';
    const proxyUrl = 'https://api.codetabs.com/v1/proxy?quest=';
	const fullUrl = (url + userId);
    const UstUrl = 'https://api.puzzlebot.top/api?token=2s1OVLz5iHnPeU7dp8ZGAUrFww8cQ4p9&method=getVariableValue&variable=custom_variable_IY2WMO6EZ6G64HDH&user_id=';
	const fullUstUrl = (UstUrl + userId);
	const fakeParam = Date.now(); // создание фиктивного параметра с текущим временем в миллисекундах
	const emailurl = 'https://api.puzzlebot.top/api?token=2s1OVLz5iHnPeU7dp8ZGAUrFww8cQ4p9&method=getVariableValue&variable=FIRST_NAME_TEXT&user_id=';
	const fullemailUrl = (emailurl + userId);
	
	fetch(`${proxyUrl}${encodeURIComponent(fullemailUrl)}&fake_param=${fakeParam}`)
      .then(response => response.json())
      .then(data => {
        // Обновляем содержимое элемента с идентификатором "result"
        document.getElementById('emailid').innerHTML = data.data;
      })
      .catch(error => console.error(error));
	  
	fetch(`${proxyUrl}${encodeURIComponent(fullUrl)}&fake_param=${fakeParam}`)
      .then(response => response.json())
      .then(data => {
        // Обновляем содержимое элемента с идентификатором "result"
        document.getElementById('result').innerHTML = data.data;
		document.getElementById('result2').innerHTML = data.data;
      })
      .catch(error => console.error(error));

	  
	  fetch(`${proxyUrl}${encodeURIComponent(fullUstUrl)}&fake_param=${fakeParam}`)
      .then(response => response.json())
      .then(data => {
        // Обновляем содержимое элемента с идентификатором "result"
        document.getElementById('ustr').innerHTML = data.data;
      })
      .catch(error => console.error(error));
	  
	  
		const timeurl = 'https://api.puzzlebot.top/api?token=2s1OVLz5iHnPeU7dp8ZGAUrFww8cQ4p9&method=getVariableValue&variable=custom_variable_EQUMN64C802ABNQD&user_id=';
		const timefullUrl = (timeurl + userId);
		
		fetch(`${proxyUrl}${encodeURIComponent(timefullUrl)}&fake_param=${fakeParam}`)
		  .then(response => response.json())
		  .then(data => {
			// Обновляем содержимое элемента с идентификатором "result"
			document.getElementById('current_date_time_block').innerHTML = data.data;
		  
				  // Получаем строку времени в формате "21:22:22"
			var timeString = data.data;
			
			// Разделяем строку времени на компоненты (часы, минуты и секунды)
			var timeComponents = timeString.split(':');
			
			// Получаем часы и минуты
			var hours = timeComponents[0];
			var minutes = timeComponents[1];
			
			// Формируем новую строку времени без секунд
			var formattedTime = hours + ':' + minutes;
			
			// Вставляем отформатированное время в элемент с идентификатором "date_time"
			document.getElementById('date_time').textContent = formattedTime;
		  })
		  .catch(error => console.error(error));
		  
		
			fetch(`${proxyUrl}${encodeURIComponent(timefullUrl)}&fake_param=${fakeParam}`)
		  .then(response => response.json())
		  .then(data => {
			// Получаем текущую дату
			const currentDate = new Date();
			// Форматируем дату в строку в нужном формате
			const formattedDay = currentDate.getDate().toString().padStart(2, '0');
			const formattedMonth = (currentDate.getMonth() + 1).toString().padStart(2, '0');
			const formattedYear = currentDate.getFullYear().toString();
			const formattedDate = `${formattedDay}.${formattedMonth}.${formattedYear} `;
			// Обновляем содержимое элемента с идентификатором "current_date_time_block"
			document.getElementById('x').innerHTML = `${formattedDate} ${data.data}`;
		  })
		  .catch(error => console.error(error));
  </script>
<div class="shap">
</div>
<div class="shap_x">
<div class="mini_line_box" id="mini_line_box">	
	<div class="mini_line"></div>
	<div class="mini_line2"></div>
	<div class="mini_line2"></div>
</div>
	<div class="shap_cen"><op>Оплата проезда</op> <div class="null_shap"></div> <zo>Заказ оплачен</zo></div>
</div>

<div class="profile_new">
<div class="prof_cen">
<img src="profileN.png" class="profile_new_img">
<email><span id="emailid"></span>@mail.ru</email> 
</div>
</div>

<div class="profile_new2">
<div class="profile_menu"><profile_menu>Пункты выдачи и пополнения</profile_menu></div>
<div class="profile_menu"><profile_menu>Тарифное меню</profile_menu></div>
<div class="profile_menu"><profile_menu>Правила пересадки</profile_menu></div>
<div class="profile_menu"><profile_menu>Порядок оформления ЛПД</profile_menu></div>
<div class="profile_menu"><profile_menu>Новостная лента</profile_menu></div>
<div class="profile_menu"><profile_menu>Профиль</profile_menu></div>
<div class="profile_menu"><profile_menu>Уведомления</profile_menu></div>
<div class="profile_menu"><profile_menu>Порядок оплаты по цифровой карте</profile_menu></div>
<div class="profile_menu"><profile_menu>Написать в службу поддержки</profile_menu></div>
<div class="profile_menu"><profile_menu>О приложении</profile_menu></div>
</div>

<div class="schedule_new">
<div class="schedule_block">
	<div class="schedule_block_outline"><div class="time_schedule"id="schedule_block_outline"></div></div>
		
	<img class="img_schedule_menu" src="Schedule_6.png">
</div>
<div class="schedule_block"><profile_menu>Тип транспорта</profile_menu><img class="img_schedule_menu" src="Schedule_1.png"></div>
<div class="schedule_block_N"><profile_menu>Маршрут</profile_menu><img class="img_schedule_menu" src="Schedule_2.png"></div>
<div class="schedule_block_N"><profile_menu>Направление</profile_menu><img class="img_schedule_menu" src="Schedule_3.png"></div>
<div class="schedule_block_N"><profile_menu>Остановка</profile_menu><img class="img_schedule_menu" src="Schedule_4.png"></div>
<img class="schedule_star" src="Schedule_5.png" >
</div>

<div class="proezdnoy_new">
<img class="proezdnoy_greycard" src="proezdnoy_greycard.png">
<div class="null_marsh"></div>
<img class="proezdnoy_redplus" src="proezdnoy_redplus.png">
<div class="proezdnoy_cardnumber">
<numcard>Номер карты</numcard> 
<div class="proezdnoy_flex">
<proezdnoy_num>96431059033</proezdnoy_num>
<div class="proezdnoy_block_outline">
</div>
</div>
<numunder>Введите последние 8 цифр номера карты.</numunder>
</div>
<div class="add_card">
<img class="add_card_img" src="proezdnoy_whiteplus.png">
<add_text>Добавить</add_text>
</div>
<img class="schedule_star" src="proezdnoy_3.png" >
</div>

<div class="num_QR_box" id="num_QR_box">
<div class="num_QR_ts">
<numQR>Для оплаты проезда введите гос. номер ТС</numQR> 
<div class="num_QR_ts_flex">

<div class="num_QR_ts_outline">
<input class="num_QR_inp">
</div>
</div>

</div>
<div class="continue">
<add_text>Продолжить</add_text>
</div>
</div>

<div class="card_box" id="card_box">

		<img class="virtual_card" src="https://neviie.github.io/Assets/virtual_card.png">
		<div class="balance">
			<balance_text>Баланс:</balance_text>
			<div class="balance_box">
				<kam><span id="number2">0</span> руб</kam>
			</div>
		</div>
		<div class="green_box">
			<img class="wallet" src="https://neviie.github.io/Assets/Green_Wallet.png">
			<add_text>Пополнить</add_text>
		</div>
		<div class="green_box">
			<img class="wallet" src="https://neviie.github.io/Assets/Green_Bus.png">
			<add_text>Купить проездной</add_text>
		</div>
		<div class="blue_box">
			<img class="wallet" src="https://neviie.github.io/Assets/Blue_Watch.png">
			<add_text>История пополнений</add_text>
		</div>
		<div class="orange_alert">
		<div class="orange_alert_text">
		<qropl>Оплачивайте проезд по QR-коду</qropl>
		<qropl2>
		Цифровой транспортной картой оплатить проезд можно путём сканирования специального QR-кода, размещённого в салоне автобуса/трамвая или путём ввода гос. номера ТС/номера вагона. Перед использованием цифровой транспортной карты ознакомьтесь с порядком оплаты проезда.
		</qropl2>
		<div class="more">
		<img src="https://neviie.github.io/Assets/Orange_alert.png" class="wallet"> 
		<more_text>Подробнее...</more_text>
		</div>
		</div>
		</div>

</div>
<img src="https://neviie.github.io/Assets/Reload.png" class="right_up_img">
<img src="https://neviie.github.io/Assets/copyL.png" class="copy_img">

<div class="history_box">
	<div class="history_line">
		<div class="greenbus_box">
		<img class="green_box_bus" src="https://neviie.github.io/Assets/Green_Bus.png">
		<span class="greenbus_box_num" id="duble_marsh">0</span>
		</div>
		<span class="random_date"><span id="date_date">01.07.2023</span> <span id="date_time">11:27</span></span>
		<greenn>35 руб</greenn>
	</div>
</div>
</div>
<div class="marshrut">
	<div class="text_t_p">
		<mar>Маршрут №<kal><span id="marshrutt">35</span></kal></mar>
		<div class="null_marsh"></div>
<mar>Автобус <div class="inp_avt" style = "display:inline-block;" id = "result"></div></mar>
		<div class="null_marsh"></div>
		<mar>Оплачено <kal>35 руб</span></kal></mar>
		<div class="null_marsh"></div>
		<mar>пассажиров <kal>1</kal> багажа <kal>0</span></kal></mar>
		<div class="null_marsh"></div>
		<ust>Устройство</ust> 			<!--нужно подсосать устройство если возможно-->
		<div class="null_marsh"></div>
<pixel> <div class="inp_ust" id="ustr"style = "display:inline-block;"></div></pixel>
	</div>
</div>
<div class="time_pos">
<div class="text_t_p">
		<t>Время посадки</t>
		<div class="null_pos"></div>
		<x><div id="current_date_time_block"></div></x>
		
		<div class="null_pos"></div>
		<y><div id="current_date_time_blockk"></div>

		<script type="text/javascript">
    
		/* функция добавления ведущих нулей */
		/* (если число меньше десяти, перед числом добавляем ноль) */
		function zero_first_format(value)
		{
			if (value < 10)
			{
				value='0'+value;
			}
			return value;
		}

		function date_time()
		{
			var current_datetime = new Date();
			var day = zero_first_format(current_datetime.getDate());
			var month = zero_first_format(current_datetime.getMonth()+1);
			var year = current_datetime.getFullYear();
			var hours = zero_first_format(current_datetime.getHours());
			var minutes = zero_first_format(current_datetime.getMinutes());
			var seconds = zero_first_format(current_datetime.getSeconds());

			return  day+"."+month+"."+year;
		}

		/* выводим текущую дату и время на сайт в блок с id "current_date_time_block" */
		document.getElementById('current_date_time_blockk').innerHTML = date_time();
		document.getElementById('date_date').innerHTML = date_time();
		</script></y>
	</div>
</div>
<div class="timer">
	<div class="text_t_p">
		<t>Время в пути</t>
		<div class="null_pos"></div>
		<timere><div class="clock" id="timer">00:00</div><timere>
	<script>
			var timerElement = document.getElementById("timer");
var startDate;

// Получаем дату из API при загрузке страницы
function fetchStartDate() {
  let tg = window.Telegram.WebApp;
  const userId = tg.initDataUnsafe.user.id;
  const url = 'https://api.puzzlebot.top/api?token=2s1OVLz5iHnPeU7dp8ZGAUrFww8cQ4p9&method=getVariableValue&variable=custom_variable_4BR7NHAOB92588S5&user_id=';
  const proxyUrl = 'https://api.codetabs.com/v1/proxy?quest=';
  const fullUrl = (url + userId);
  const fakeParam = Date.now(); // создание фиктивного параметра с текущим временем в миллисекундах

  fetch(`${proxyUrl}${encodeURIComponent(fullUrl)}&fake_param=${fakeParam}`)
    .then(response => response.json())
    .then(data => {
      // Создаем объект Date из полученного значения
      startDate = new Date(data.data * 1000);
      
      // Обновляем таймер сразу после получения даты
      updateTimer();
      
      // Обновляем таймер каждую секунду после получения даты
      setInterval(updateTimer, 1000);
    })
    .catch(error => console.log(error));
}

// Функция для обновления секундомера
function updateTimer() {
  // Вычисляем разницу между текущей датой и начальной датой
  var diff = new Date() - startDate;
  
  // Преобразуем разницу в формат "чч:мм:сс"
  var hours = Math.floor(diff / 3600000);
  var minutes = Math.floor((diff - hours * 3600000) / 60000);
  var seconds = Math.floor((diff - hours * 3600000 - minutes * 60000) / 1000);
  var formattedTime = 
    minutes.toString().padStart(2, '0') + ':' +
    seconds.toString().padStart(2, '0');
  
  // Отображаем секундомер на странице
  timerElement.innerText = formattedTime;
}

fetchStartDate();

   </script> 
  
	</div>
</div>
<div class="qr">
	<div class="text_t_p">
	<img class="imqr" src="https://proezdnoy59.files.wordpress.com/2022/05/qr.jpg">
	</div>
</div>
<div class="button" id="button" onclick="showNewControl()">
    <t>Контроль</t>
  </div>
<div class="new_control">
<div class="text_t_p">
		<t>Контроль</t>
		<div class="null_cont"></div>
		<img class="control_img_left" id="left-image" src="" onclick="updateLeftImage()">
		<img class="control_img_right" id="right-image" src="" onclick="updateRightImage()">
</div>
</div>

<div class="ost">
	<div onclick="update2Number()" class="text_t_p">
	<ust>Остаток баланса  <span id="number">0</span> руб</ust>
	</div>
</div>
<div class="control">
	<div class="text_t_p">
	<bilet>БИЛЕТ</bilet>
	<div class="null_cont"></div>
	<n>№<div style="display:inline-block;" id="e"></div>
<script type="text/javascript">
function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min)) + min;
}

document.getElementById('e').innerHTML = getRandomInt(5000000000, 9000000000)
</script></n>							<!--генератор случайных 10 значных чисел-->
	<div class="null_cont2"></div>
<n><div id="x"></div></n>
	<div class="null_cont2"></div>
		<div class="line">
		</div>
	<div class="null_cont3"></div>
	<n>ИП Миронов Д.В.</n>
	<div class="null_cont"></div>
	<n>ИНН 590301952678</n>	
	<div class="null_cont"></div>
	<n>по заказу МКУ "Гортранс"</n>	
	<div class="null_cont"></div>
		<div class="line">
		</div>
	<div class="null_cont3"></div>
	
	<div class="marshrut_dviz"><marshrutfont>35, Пермский академический Театр-</marshrutfont></div>			<!--сделать в две строки-->
	<div class="marshrut_dviz"><marshrutfont>Театр - ПЭМЗ</marshrutfont></div>
	
	<div class="null_cont3"></div>
	<n>Автобус </n><div style="display:inline-block;" id="result2" class="inp_avt2"></div>
		<div class="null_cont"></div>
		<div class="line"></div>
	<div class="null_cont3"></div>
	<kim>Стоимость: 35 руб</kim>
	</div>
</div>
<div class="null_cont3""></div>
<div class="bottom">

</div>
<div class="bottom_x">
<div class="bottom_m">
	<figure class="fig_1" onclick="handleClick4()">
	<img src="bilet_acrive.png" img class="img_fig_1">
	<figcaption class="font_fig_1">Билеты</figcaption>
	</figure>
	<figure class="fig_2" onclick="handleClick3()">
	<img src="proezdnoy_noactive.png" class="img_fig_2">
	<figcaption class="font_fig_2">Проездной</figcaption>
	</figure>
	<figure class="fig_4" onclick="handleClick2()">
	<img src="schedule_noactive.png" img class="img_fig_4">
	<figcaption class="font_fig_4">Расписание</figcaption>
	</figure>
	<figure class="fig_3" onclick="handleClick()">
	<img src="cabinet_noactive.png" class="img_fig_3">
	<figcaption class="font_fig_3">Кабинет</figcaption>
	</figure>
</div class="bottom_m">
</div>
</div>

<div class="shadow" id="shadow"></div>

<div class="left_menu" id="left_menu">
	<div><img src="https://neviie.github.io/Assets/ExitL.png" id="left_menu_exit" class="left_menu_exit">
		<div class="left menu_object">
			<div class="left_menu_point" id="scan_QR"><img src="https://neviie.github.io/Assets/Noactive_menuQRL.png" class="img_left_menu" id="scan_QR_img">Сканировать QR</div>
			<div class="left_menu_point" id="num_QR"><img src="https://neviie.github.io/Assets/Noactive_menuQRL.png" class="img_left_menu" id="num_QR_img">Ввести гос. номер ТС</div>
			<div id="menunow_left" class="left_menu_point" style="font-weight: 600; background-color: rgb(226,239,255); color: rgb(42,127,228)"><img id="https://neviie.github.io/Assets/Active_menunowL.png" src="https://neviie.github.io/Assets/Active_menunowL.png" class="img_left_menu">Текущий заказ</div>
			<div class="left_menu_point" id="history_left"><img src="https://neviie.github.io/Assets/Noactive_menuhistoryL.png" class="img_left_menu" id="history_img">История заказов</div>
			<div id="menucard" class="left_menu_point"><img src="https://neviie.github.io/Assets/Noactive_menucardL.png" class="img_left_menu" id="menu_card_img">Цифровая карта</div>
			<div class="left_menu_point" id="poriadok_oplati"><img src="https://neviie.github.io/Assets/Noactive_menuoplataL.png" class="img_left_menu">Порядок оплаты</div>
		</div>
	</div>
</div>

<div class="poriadok_oplati_text" id="poriadok_oplati_text">

</div>

<div class="poriadok_oplati_text2" id="poriadok_oplati_text2">
<p>Цифровая транспортная карт доступна в разделе Билеты приложения через боковое меню (вызывается нажатием на иконку в левом верхнем углу). Если при выборе пункта бокового меню "Сканировать QR" не открывается камера для сканирования, а перечислены 3 или 4 шага, которые нужно выполнить для возможности оплаты проезда, то это значит что один или несколько шагов не пройдены для возможности оплаты проезда по QR-коду. Для использования данного способа оплаты проезда по цифровой транспортной карте необходимо обновить версию приложения из магазина приложений Play Маркет или App Store (если не установлена последняя версия).</p>

<p>Цифровая транспортная карта работает по гражданским тарифам. С информацией о тарифах можно ознакомится в разделе Кабинет -> Тарифное меню.</p>

<p>Обращаем Ваше внимание, что QR-код для оплаты проезда по цифровой карте можно сканировать в приложении "Транспортная карта Пермь" (проездной 59) только со специальных стикеров, которые размещены в городском пассажирском транспорте.</p>

<p>Данный способ оплаты доступен при наличии на мобильном устройстве доступа в Интернет. Также нужно установить актуальное время на смартфоне, для этого в настройках смартфона выбрать настройку "Дата и время" и установить флаг "Автонастройка", либо установить актуальную дату и время вручную.</p>

<p>ВНИМАНИЕ! По пластиковой транспортной карте, которая добавлена в приложение в разделе Проездной, невозможно оплатить проезд в приложении по QR-коду или гос. номеру. Для совершения оплаты проезда по пластиковым транспортным картам используются валидаторы, которые могут считывать информацию с электронного чипа карты.</p>

<p>Для совершения пересадки со скидкой по цифровой транспортной карте в режиме транспортных единиц необходимо в транспортном средстве, на которое совершена пересадка, сформировать новый заказ билетов, отсканировав QR-код в салоне транспортного средства или ввсети гос. номер транспортного средства. На одном рейсе можно сформировать только один заказ билетов, поэтому указывайте необходимое количество билетов в одном заказе.</p>

<p>1. Для возможности оплаты проезда в приложении по QR-коду необходимо предварительно выполнить следующие действия:</p>

<p>1.1. Зарегистрировать профиль и/или войти в него. При регистрации профиля обязательно указывайте действующий адрес электронной почты, поскольку дальнейшее управление профилем (подтверждение, восстановление/смена пароля, выпуск цифровой транспортной карты для профиля, её активация на мобильных устройствах) доступно через указанный при регистрации адрес электронной почты.</p>

<p>1.2. Выпустить цифровую транспортную карту, либо если карта была выпущена на другом устройстве (или приложение удалялось с устройства), активировать её на устройстве. При выпуске цифровой транспортной карты и активации её на мобильном устройстве на указанный при регистрации адрес электронной почты или номер телефона будет отправлен код подтверждения, который нужно будет ввести в специальное поле в мобильном приложении. Цифровой транспортной картой, активированной на устройстве, можно оплатить проезд только в приложении, отсканировав QR-коду в салоне ТС или введя гос. номер, оплатить проезд через валидатор не получится. Цифровую транспортную карту профиля можно активировать на нескольких устройствах, в случае если на цифровой карте не подключен проездной. При покупке проездного активация на других устройствах прекращается до тех пор, пока срок действия проездного не закончится. Если на карте нет проездного, то оплачивать проезд одной картой можно на нескольких устройствах, при этом пересадочный билет со скидкой сформируется только если оплата проезда совершалась с того же устройства.</p>

<p>1.3. Разрешить приложению использование камеры мобильного устройства для сканирования QR-кода в транспорте. Без данного разрешения будет невозможно отсканировать QR-код в салоне автобуса/трамвая, чтобы оплатить билеты.</p>

<p>1.4. Использовать на устройстве версию приложения, которая поддерживает действующий порядок оплаты проезда по QR-коду. В дальнейшем версия приложения может повышаться и необходимо обновлять приложение для возможности оплаты проезда по QR-коду.</p>

<p>2. Для оплаты проезда в приложении транспортными единицами на балансе цифровой транспортной карты по стоимости разовых поездок необходимо выполнить следующие действия:</p>

<p>2.1. Пополнить баланс цифровой транспортной карты по кнопке "Пополнить", либо убедиться что её баланса достаточно для оплаты необходимого количества билетов. Если баланса транспортной карты будет недостаточно, то в процессе оплаты билетов появится соответствующее информационное сообщение.</p>

<p>2.2. Отсканировать QR-код, находящийся в салоне автобуса или трамвая, либо ввести гос. номер транспорта, и указать необходимое количество билетов, после этого нажать на кнопку "Оплатить". Сформированный заказ билетов после сканирования QR-кода будет доступен в течение 1 минуты для оплаты. На одном рейсе возможно сформировать только один заказ билетов, поэтому требуется указать необходимое количество билетов в заказе (максимальное количество билетов 10 штук).</p>

<p>2.3. Показать сформированные в приложении билеты на странице "Текущиий заказ" (либо открыть билеты через пункт меню "История заказов") по требованию кондуктора и/или контролера для прохождения контроля оплаты проезда.</p>

<p>3. Для оплаты проезда в приложении по проездному, подключенному к цифровой транспортной карте, необходимо выполнить следующие действия:</p>

<p>3.1. Купить проездной на цифровую транспортную карту по кнопке "Купить проездной", либо убедиться что срок его действия не закончился и лимит поездок/дней не истрачен (для лимитного проездного).</p>

<p>3.2. Отсканировать QR-код, находящийся в салоне автобуса или трамвая, либо ввести гос. номер транспорта, и нажать на кнопку "Оплатить" в сформированном заказе. Сформированный заказ билетов после сканирования QR-кода или ввода гос. номера будет доступен в течение 1 минуты для оплаты. После оплаты в разделе "Текущий заказ" будет доступен сформированный электронный билет (также открыть оплаченный заказ билетов можно через пункт меню "История заказов"). Оплачивать проезд по проездному документу, подключенному к цифровой транспортной карте, может только один человек и с одного мобильного устройства.</p>

<p>3.3. Показать сформированный в приложении билет на странице "Текущиий заказ" (либо открыть билеты через пункт меню "История заказов") по требованию кондуктора и/или контролера для прохождения контроля оплаты проезда.</p>

<p>4. Для совершения пересадки со скидкой в приложении за счет транспортных единиц на балансе цифровой транспортной карты необходимо выполнить следующие действия:</p>

<p>4.1. Если Вы пересаживаетесь на автобус/трамвай, в котором размещён QR-код, то нужно его отсканировать в приложении, либо ввести гос. номер транспортного средства, указать необходимое количество пассажиров и оформить пересадочный билет (если правила пересадки выполняются, приложение предложит совершить пересадку со скидкой).</p>

<p>4.2. Показать кондуктору/контролеру электронный билет в приложении для контроля оплаты проезда.</p>

<p>4.3. Пересадка со скидкой доступна только при оплате билета транспортными единицами на балансе цифровой транспортной карты и при оплате с одного мобильного устройства. Подробнее о правилах пересадки можно прочитать в разделе Кабинет -> Правила пересадки.</p>

<p>5. Условия покупки билетов в мобильном приложении по цифровой карте:</p>

<p>5.1. Перед подтверждением заказа на оплату билетов Пользователь самостоятельно должен проверить параметры заказа: государственный регистрационный номер транспортного средства (либо номер вагона трамвая), номер муниципального маршрута, количество билетов и сумму к оплате и при необходимости внести изменения в параметры заказа.</p>

<p>5.2. При подтверждении заказа на оплату билетов по кнопке "Оплатить" пользователь даёт своё безоговорочное согласие на совершение оплаты проезда и/или провоза багажа по цифровой транспортной карте на транспортном средстве, маршруте и на сумму, указанную в заказе на оплату билетов, а также подтверждает факт проезда на указанном в заказе транспортном средстве и муниципальном маршруте.</p>

<p>5.3. После подтверждения оплаты согласно пункта 5.2 Пользователь не может никаким образом запросить возврат оплаченных билетов.</p>

<p>5.3. По цифровой карте в мобильном прилоежнии можно оплатить проезд только на муниципальном маршруте регулярных перевозок города Перми, на других маршрутах самостоятельная оплата проезда и/или провоза багажа Пользователем в мобильном приложении не допускается. Пользователь несёт сам все риски ошибочной оплаты проезда и/или провоза багажа в мобильном приложении.</p>
</div>

<img src="https://neviie.github.io/Assets/Arrow.png" class="arrow_img" id="arrow_img">

<div class = "scan_QR_fon" id="scan_QR_elements">
<div class="scan_QR_elements">
<QR_text>Для оплаты проезда отсканируйте QR-код</QR_text>
<div class="QR_border_img">
<div class="scan_QR_border"></div>

<div class="scan_QR_img">
<img src = "https://neviie.github.io/Assets/Round_Flashlight.png" class="img_scan_QR">
<img src = "https://neviie.github.io/Assets/Round_Plus.png" class="img_scan_QR">
<img src = "https://neviie.github.io/Assets/Round_minus.png" class="img_scan_QR">
<img src = "https://neviie.github.io/Assets/Round_bus.png" class="img_scan_QR">
</div>
</div>
</div>
</div>

  <script> <!--Кабинет-->
    function handleClick() {
      var profileNewElement = document.querySelector('.profile_new');
      profileNewElement.style.display = 'block';
	  
	  var profileNewElement = document.querySelector('.profile_new2');
      profileNewElement.style.display = 'block';
      
      var elementsToHide = document.querySelectorAll('.marshrut, .time_pos, .timer, .qr, .ost, .control, .mini_line, .mini_line2, mini_line3, .null_shap, zo, .schedule_new, .proezdnoy_new, .button, .new_control');
      elementsToHide.forEach(function(element) {
        element.style.display = 'none';
		
	var imgElement = document.querySelector('.img_fig_3');
      imgElement.src = 'cabinet_active.png';
      
      var fontElement = document.querySelector('.font_fig_3');
      fontElement.style.color = 'rgb(17,121,145)';
	  
	 var zoElement = document.querySelector('.shap_cen');
      zoElement.style.marginLeft = '12vw';
	  
	  var opElement = document.querySelector('op');
	  opElement.textContent = 'Кабинет';
	  
	  var backbusimgElement = document.querySelector('.img_fig_4');
     backbusimgElement.src = 'schedule_noactive.png';
	  
      
      var backbusfontElement = document.querySelector('.font_fig_4');
      backbusfontElement.style.color = 'rgb(110, 110, 110)';
	  
	  var backproezdnoyimgElement = document.querySelector('.img_fig_2');
     backproezdnoyimgElement.src = 'proezdnoy_noactive.png';
	  
      
      var backproezdnoyfontElement = document.querySelector('.font_fig_2');
      backproezdnoyfontElement.style.color = 'rgb(110, 110, 110)';
	  
	  var backticketfontElement = document.querySelector('.font_fig_1');
      backticketfontElement.style.color = 'rgb(110, 110, 110)';
	  
	  var backticketimgElement = document.querySelector('.img_fig_1');
     backticketimgElement.src = 'bilet_noacrive.png';
      });
    }
	<!--Расписание-->
	function handleClick2() {
      var profileNewElement = document.querySelector('.schedule_new');
      profileNewElement.style.display = 'block';
      
      var elementsToHide = document.querySelectorAll('.marshrut, .time_pos, .timer, .qr, .ost, .control, .mini_line, .mini_line2, mini_line3, .null_shap, zo, .profile_new, .proezdnoy_new, .profile_new2, .button, .new_control');
      elementsToHide.forEach(function(element) {
        element.style.display = 'none';
		
	var imgElement = document.querySelector('.img_fig_4');
      imgElement.src = 'schedule_active.png';
	  
	  var backprofileimgElement = document.querySelector('.img_fig_3');
      backprofileimgElement.src = 'cabinet_noactive.png';
      
      var fontElement = document.querySelector('.font_fig_4');
      fontElement.style.color = 'rgb(17,121,145)';
	  
	  var backprofilefontElement = document.querySelector('.font_fig_3');
      backprofilefontElement.style.color = 'rgb(110, 110, 110)';
	  
	 var zoElement = document.querySelector('.shap_cen');
      zoElement.style.marginLeft = '15vw';
	  
	  var opElement = document.querySelector('op');
	  opElement.textContent = 'Расписание';
	  
	  var backproezdnoyimgElement = document.querySelector('.img_fig_2');
     backproezdnoyimgElement.src = 'proezdnoy_noactive.png';
	  
      
      var backproezdnoyfontElement = document.querySelector('.font_fig_2');
      backproezdnoyfontElement.style.color = 'rgb(110, 110, 110)';
	  
	  var backticketfontElement = document.querySelector('.font_fig_1');
      backticketfontElement.style.color = 'rgb(110, 110, 110)';
	  
	  var backticketimgElement = document.querySelector('.img_fig_1');
     backticketimgElement.src = 'bilet_noacrive.png';
      });
    }
	<!--Проездной-->
	function handleClick3() {
      var profileNewElement = document.querySelector('.proezdnoy_new');
      profileNewElement.style.display = 'block';
      
      var elementsToHide = document.querySelectorAll('.marshrut, .time_pos, .timer, .qr, .ost, .control, .mini_line, .mini_line2, mini_line3, .null_shap, zo, .profile_new, .schedule_new, .profile_new2, .button, .new_control');
      elementsToHide.forEach(function(element) {
        element.style.display = 'none';
		
	var imgElement = document.querySelector('.img_fig_2');
      imgElement.src = 'proezdnoy_active.png';
	  
	  var backprofileimgElement = document.querySelector('.img_fig_3');
      backprofileimgElement.src = 'cabinet_noactive.png';
      
      var fontElement = document.querySelector('.font_fig_2');
      fontElement.style.color = 'rgb(17,121,145)';
	  
	  var backprofilefontElement = document.querySelector('.font_fig_3');
      backprofilefontElement.style.color = 'rgb(110, 110, 110)';
	  
	 var zoElement = document.querySelector('.shap_cen');
      zoElement.style.marginLeft = '20vw';
	  
	  var opElement = document.querySelector('op');
	  opElement.textContent = 'Добавить карту';
	  
	  var backbusimgElement = document.querySelector('.img_fig_4');
     backbusimgElement.src = 'schedule_noactive.png';
      
      var backbusfontElement = document.querySelector('.font_fig_4');
      backbusfontElement.style.color = 'rgb(110, 110, 110)';
	  
	  var backticketfontElement = document.querySelector('.font_fig_1');
      backticketfontElement.style.color = 'rgb(110, 110, 110)';
	  
	  var backticketimgElement = document.querySelector('.img_fig_1');
     backticketimgElement.src = 'bilet_noacrive.png';
      });
    }
	<!--Билеты-->
	function handleClick4() {
		var zooElement = document.querySelector('zo');
		zooElement.textContent = 'Заказ оплачен';
	  
		var profileNewElement = document.querySelector('.new_control');
      profileNewElement.style.display = 'block';
	  
      var profileNewElement = document.querySelector('.profile_new');
      profileNewElement.style.display = 'none';
	  
	  var profileNewElement = document.querySelector('.profile_new2');
      profileNewElement.style.display = 'none';
	  
	  var profileNewElement = document.querySelector('.proezdnoy_new');
      profileNewElement.style.display = 'none';
	  
	  var profileNewElement = document.querySelector('.schedule_new');
      profileNewElement.style.display = 'none';
	  
      var elementsToHide = document.querySelectorAll('.marshrut, .time_pos, .timer, .qr, .ost, .control, .mini_line, .mini_line2, mini_line3, .null_shap, zo');
      elementsToHide.forEach(function(element) {
        element.style.display = 'block';
		
	var imgElement = document.querySelector('.img_fig_2');
      imgElement.src = 'proezdnoy_noactive.jpg';
	  
	  var backprofileimgElement = document.querySelector('.img_fig_3');
      backprofileimgElement.src = 'cabinet_noactive.png';
      
	  	var imgElement = document.querySelector('.img_fig_1');
      imgElement.src = 'bilet_acrive.png';
	  
      var fontElement = document.querySelector('.font_fig_1');
      fontElement.style.color = 'rgb(17,121,145)';
	  
	  var backprofilefontElement = document.querySelector('.font_fig_3');
      backprofilefontElement.style.color = 'rgb(110, 110, 110)';
	  
	 var zoElement = document.querySelector('.shap_cen');
      zoElement.style.marginLeft = 'calc(12vw + 10vh)';
	  
	  var opElement = document.querySelector('op');
	  opElement.textContent = 'Оплата проезда';
	  
	  var backbusimgElement = document.querySelector('.img_fig_4');
     backbusimgElement.src = 'schedule_noactive.png';
	  
      
      var backbusfontElement = document.querySelector('.font_fig_4');
      backbusfontElement.style.color = 'rgb(110, 110, 110)';
	  
	  var backproezdnoyimgElement = document.querySelector('.img_fig_2');
     backproezdnoyimgElement.src = 'proezdnoy_noactive.png';
	  
      
      var backproezdnoyfontElement = document.querySelector('.font_fig_2');
      backproezdnoyfontElement.style.color = 'rgb(110, 110, 110)';
	  
	  
	  
      });
    }
	
	   function getRandomNumber() {
      var numbers = [0, 35, 70];
      var randomNumber = numbers[Math.floor(Math.random() * numbers.length)];
      return randomNumber;
    }
    
    // Функция для обновления числа
    function update1Number() {
      var numberElement = document.getElementById('number');
      numberElement.textContent = getRandomNumber();
    }
    
    // Обновляем число при загрузке страницы
    window.onload = function() {
      update1Number();
    };
    
    // Функция для обновления числа при нажатии
    function update2Number() {
      var numberElement = document.getElementById('number');
      var currentNumber = parseInt(numberElement.textContent);
      var numbers = [0, 35, 70];
      
      // Находим следующее число в порядке возрастания
      var nextNumberIndex = numbers.indexOf(currentNumber) + 1;
      if (nextNumberIndex >= numbers.length) {
        nextNumberIndex = 0;
      }
      
      // Обновляем текст на странице
      numberElement.textContent = numbers[nextNumberIndex];
    }
	
	// Массив с путями к картинкам
    var images = [
		"control_banana_1.png",
		"contol_cat_2.png",
		"control_cherry_3.png",
		"control_duck_4.png",
		"control_flower_5.png",
		"control_house_6.png",
		"control_plane_7.png",
		"control_rocket_8.png",
		"control_tea_9.png",
		"conrol_tram_10.png",
      // Добавьте пути к другим картинкам
    ];
    
    // Переменные для хранения текущих индексов картинок
    var leftImageIndex;
    var rightImageIndex;
    
    // Функция для обновления левой картинки при нажатии
    function updateLeftImage() {
      var leftImageElement = document.getElementById('left-image');
      
      // Обновляем индекс левой картинки
      leftImageIndex++;
      if (leftImageIndex >= images.length) {
        leftImageIndex = 0;
      }
      
      // Обновляем отображаемую картинку
      leftImageElement.src = images[leftImageIndex];
    }
    
    // Функция для обновления правой картинки при нажатии
    function updateRightImage() {
      var rightImageElement = document.getElementById('right-image');
      
      // Обновляем индекс правой картинки
      rightImageIndex++;
      if (rightImageIndex >= images.length) {
        rightImageIndex = 0;
      }
      
      // Обновляем отображаемую картинку
      rightImageElement.src = images[rightImageIndex];
    }
	
	// Обновляем картинки при загрузке страницы
    window.onload = function() {
      var leftImageElement = document.getElementById('left-image');
      var rightImageElement = document.getElementById('right-image');
      
      // Генерируем случайные начальные значения для индексов
      leftImageIndex = Math.floor(Math.random() * images.length);
      rightImageIndex = leftImageIndex;
      while (rightImageIndex === leftImageIndex) {
        rightImageIndex = Math.floor(Math.random() * images.length);
      }
      
      // Устанавливаем начальные значения индексов и отображаем картинки
      leftImageElement.src = images[leftImageIndex];
      rightImageElement.src = images[rightImageIndex];
    };
	
	 function showNewControl() {
      var buttonElement = document.getElementById('button');
      var newControlElement = document.querySelector('.new_control');

      buttonElement.style.display = 'none';
      newControlElement.style.display = 'block';
    }
	
	const leftMenu = document.getElementById('left_menu');
    const miniLineBox = document.getElementById('mini_line_box');
	var exit = document.querySelectorAll('.arrow_img, .left_menu_exit, .fig_2, .fig_3, .fig_4')
	 const miniLines = document.querySelectorAll('.mini_line, .mini_line2');
	const shadow = document.getElementById('shadow')
	
     miniLineBox.addEventListener('click', () => {
      leftMenu.style.left = '0%';
	  shadow.classList.toggle('transparent');
	
		
      miniLines.forEach((miniLine) => {
        miniLine.classList.toggle('transparent');
		 
      });
    
	setTimeout(() => {
      miniLines.forEach((miniLine) => {
        miniLine.classList.toggle('transparent');
      });
    }, 1000);
  });
	
	
	exit.forEach((exitButton) => {
	  exitButton.addEventListener('click', () => {
		leftMenu.style.left = '-100%';
		shadow.classList.remove('transparent');
	  });
	});
	
	

		var poriadok_oplati = document.getElementById('poriadok_oplati');
		const poriadok_oplati_text = document.getElementById('poriadok_oplati_text');
		const poriadok_oplati_text2 = document.getElementById('poriadok_oplati_text2');
		var oppElement = document.querySelector('op');
		var zooElement = document.querySelector('zo');
		var shap_cenElement = document.querySelector('.shap_cen');
		var arrow_img = document.getElementById('arrow_img');
		var scan_QR = document.getElementById('scan_QR');
		var all_hide = document.querySelectorAll('.marshrut, .time_pos, .timer, .qr, .new_control, .ost, .control, .button, .scan_QR_fon, .num_QR_box, .card_box, .copy_img, .right_up_img, .history_box');
		var now_order = document.querySelectorAll('.marshrut, .time_pos, .timer, .qr, .new_control, .ost, .control');
		var Active_menunow_img = document.getElementById('https://neviie.github.io/Assets/Active_menunowL.png');
		var Menu_now = document.getElementById('menunow_left');
		var scan_QR_img = document.getElementById('scan_QR_img')
		var bottom_button =  document.querySelectorAll('.fig_2, .fig_3, .fig_4')
	
	<!--Функция деактивации всех кнопок-->
	
	function noactive() {
		
		var all_leftmenu_buttons = document.querySelectorAll('.left_menu_point');
		var scanQR_img = document.getElementById('scan_QR_img');
		var numQR_img = document.getElementById('num_QR_img');
		var now_img = document.getElementById('https://neviie.github.io/Assets/Active_menunowL.png');
		var history_img = document.getElementById('history_img');
		var card_img = document.getElementById('menu_card_img');
		
		all_leftmenu_buttons.forEach((button) => {

			
			button.style.color = 'black';
			button.style.fontWeight = 'normal';
			button.style.backgroundColor = 'white';
			scanQR_img.src = 'https://neviie.github.io/Assets/Noactive_menuQRL.png';
			numQR_img.src = 'https://neviie.github.io/Assets/Noactive_menuQRL.png';
			history_img.src = 'https://neviie.github.io/Assets/Noactive_menuhistoryL.png';
			card_img.src = 'https://neviie.github.io/Assets/Noactive_menucardL.png';
			now_img.src = 'https://neviie.github.io/Assets/Noactive_menunowL.png';
		});	
	
	}
	
	<!--Функция для убирания всего-->
	
	function hideall() {
	all_hide.forEach((element) => {
				  element.style.display = 'none';
				});
				var videoElement = document.getElementById('videoElement');
  if (videoElement) {
    var stream = videoElement.srcObject;
    var tracks = stream.getTracks();
    tracks.forEach(function(track) {
      track.stop();
    });

    videoElement.parentNode.removeChild(videoElement);
  }
  
	}
				
	bottom_button.forEach((bottombutton) => {
		bottombutton.addEventListener('click', () => {
		hideall();
		})
		})
		
	<!--Порядок оплаты-->
	  
 poriadok_oplati.addEventListener('click', () => {
	  hideall();
	  poriadok_oplati_text.style.display = 'block';
	  poriadok_oplati_text2.style.display = 'block';
	  leftMenu.style.left = '-100%';
	  shadow.classList.toggle('transparent');
	   oppElement.textContent = 'Информация';
	   zooElement.style.display = 'none';
		shap_cenElement.style.marginLeft = '30vw';
		miniLineBox.style.display = 'none';
		arrow_img.style.display = 'block';

		var videoElement = document.getElementById('videoElement');
  if (videoElement) {
    var stream = videoElement.srcObject;
    var tracks = stream.getTracks();
    tracks.forEach(function(track) {
      track.stop();
    });

    videoElement.parentNode.removeChild(videoElement);
  }
  
    });
	
		exit.forEach((exitButton) => {
		exitButton.addEventListener('click', () => {
		poriadok_oplati_text.style.display = 'none';
		poriadok_oplati_text2.style.display = 'none'; 
		arrow_img.style.display = 'none';
		miniLineBox.style.display = 'block';
	  });
	});
	
		arrow_img.addEventListener('click', () => {
		noactive();
  hideall();

  menunow_left.style.color = 'rgb(42,127,228)';
  menunow_left.style.fontWeight = '600';
  menunow_left.style.backgroundColor = 'rgb(226,239,255)';
  now_img.src = 'https://neviie.github.io/Assets/Active_menunowL.png';
	handleClick4()
				
	});
	<!--Сканировать QR-->
	
	scan_QR.addEventListener('click', () => {
	
	noactive();
	hideall();
	
	scan_QR.style.color = 'rgb(42,127,228)';
	scan_QR.style.fontWeight = '600';
	scan_QR.style.backgroundColor = 'rgb(226,239,255)';
	scan_QR_img.src = 'https://neviie.github.io/Assets/Active_menuQRL.png';
	
	  leftMenu.style.left = '-100%';
	  shadow.classList.toggle('transparent');
	  zooElement.textContent = 'Сканировать QR';
		scan_QR_elements.style.display = 'flex';
	oppElement.textContent = 'Оплата проезда';
		shap_cenElement.style.marginLeft = 'calc(12vw + 10vh)';
				
	navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
    .then((stream) => {
      const videoElement = document.createElement('video');
      videoElement.srcObject = stream;
      videoElement.autoplay = true;
		videoElement.id = 'videoElement';
	  videoElement.style.height = '100%';
	  videoElement.style.position = 'absolute';


      scan_QR_elements.appendChild(videoElement);
    })
    .catch((error) => {
      console.error('Ошибка при получении доступа к камере:', error);
    });
	
    });
 
	<!--Ввести гос. номер ТС-->
	
	var num_QR = document.getElementById('num_QR');
	var num_QR_box = document.getElementById('num_QR_box');
	num_QR.addEventListener('click', () => {
  
  noactive();
  hideall();
	oppElement.textContent = 'Оплата проезда';
  num_QR.style.color = 'rgb(42,127,228)';
  num_QR.style.fontWeight = '600';
  num_QR.style.backgroundColor = 'rgb(226,239,255)';
  num_QR_img.src = 'https://neviie.github.io/Assets/Active_menuQRL.png';

  leftMenu.style.left = '-100%';
  shadow.classList.toggle('transparent');
  zooElement.textContent = 'Ввести гос. номер ТС';
	
	num_QR_box.style.display = 'block';
  shap_cenElement.style.marginLeft = 'calc(15vw + 10vh)';
});

	<!--Текуший заказ-->
	
	var menunow_left = document.getElementById('menunow_left');
	var now_img = document.getElementById('https://neviie.github.io/Assets/Active_menunowL.png');
	var bills = document.querySelector('.fig_1');
	
	

	bills.addEventListener('click', menunowleft);
	
	function menunowleft() {
  
  noactive();
  hideall();

  menunow_left.style.color = 'rgb(42,127,228)';
  menunow_left.style.fontWeight = '600';
  menunow_left.style.backgroundColor = 'rgb(226,239,255)';
  now_img.src = 'https://neviie.github.io/Assets/Active_menunowL.png';
	handleClick4()
};
	
	menunow_left.addEventListener('click', () => {
  menunowleft()
  shadow.classList.toggle('transparent');
  leftMenu.style.left = '-100%';
});

	var menucard = document.getElementById('menucard');
	var card_box = document.getElementById('card_box');
	var randomNumber16 = '9' + Math.floor(Math.random() * 9 + 1) + Math.floor(Math.random() * 10 ** 17);
	var right_up_img = document.querySelector('.right_up_img');
	var copy_img = document.querySelector('.copy_img');
	
	menucard.addEventListener('click', () => {
  
  noactive();
  hideall();

  menucard.style.color = 'rgb(42,127,228)';
  menucard.style.fontWeight = '600';
  menucard.style.backgroundColor = 'rgb(226,239,255)';
  menu_card_img.src = 'https://neviie.github.io/Assets/Active_menucardL.png';

  leftMenu.style.left = '-100%';
  shadow.classList.toggle('transparent');
  zooElement.textContent = 'Цифровая карта';
	oppElement.textContent = randomNumber16; <!--случайное 19 значное число-->
	card_box.style.display = 'block';
  shap_cenElement.style.marginLeft = 'calc(15vw + 12vh)';
 right_up_img.style.display='block';
 copy_img.style.display='block';
});
	<!--История заказов-->
	
	var historyleft = document.getElementById('history_left');
	var history_img = document.getElementById('history_img');
	var history_box = document.querySelector('.history_box');
	
	
	historyleft.addEventListener('click', () => {
	
	noactive();
  hideall();

  historyleft.style.color = 'rgb(42,127,228)';
  historyleft.style.fontWeight = '600';
  historyleft.style.backgroundColor = 'rgb(226,239,255)';
  history_img.src = 'https://neviie.github.io/Assets/Active_menuhistoryL.png';

  leftMenu.style.left = '-100%';
  shadow.classList.toggle('transparent');
  oppElement.textContent = 'История заказов';
  zooElement.textContent = ' ';
  shap_cenElement.style.marginLeft = 'calc(10vw + 12vh)';
  history_box.style.display = 'block';
  
  function getRandomNumber(min, max, excludedNumbers) {
  var randomNumber;
  do {
    randomNumber = Math.floor(Math.random() * (max - min + 1)) + min;
  } while (excludedNumbers.includes(randomNumber));
  return randomNumber;
}

function getRandomDate() {
  var startDate = new Date('2023-07-01T00:00:00');
  var endDate = new Date('2023-07-10T23:59:59');
  var randomTimestamp = Math.floor(Math.random() * (endDate.getTime() - startDate.getTime() + 1)) + startDate.getTime();
  var randomDate = new Date(randomTimestamp);
  var formattedDate = randomDate.toLocaleDateString('ru-RU', { day: '2-digit', month: '2-digit', year: 'numeric' });
  var formattedTime = randomDate.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
  return formattedDate + ' ' + formattedTime;
}

var historyBox = document.querySelector('.history_box');

var numDivs = Math.floor(Math.random() * 15) + 1;

for (var i = 0; i < numDivs; i++) {
  var div = document.createElement('div');
  div.className = 'history_line';

  var greenbusBox = document.createElement('div');
  greenbusBox.className = 'greenbus_box';

  var greenBoxBus = document.createElement('img');
  greenBoxBus.className = 'green_box_bus';
  greenBoxBus.src = 'https://neviie.github.io/Assets/Green_Bus.png';

  var greenbusBoxNum = document.createElement('span');
  greenbusBoxNum.className = 'greenbus_box_num';
  greenbusBoxNum.textContent = getRandomNumber(1, 80, [2, 31, 42, 43, 66, 72, 76, 78, 79]);

  greenbusBox.appendChild(greenBoxBus);
  greenbusBox.appendChild(greenbusBoxNum);

  var randomDate = document.createElement('span');
  randomDate.className = 'random_date';
  randomDate.textContent = getRandomDate();

  var greenn = document.createElement('greenn');
  greenn.textContent = '35 руб';

  div.appendChild(greenbusBox);
  div.appendChild(randomDate);
  div.appendChild(greenn);

  historyBox.appendChild(div);
}

var marshrut = document.getElementById('marshrutt');
var marshrut_duble = document.getElementById('duble_marsh');

marshrut_duble.textContent = marshrut.textContent;

  });
  </script>

</body>
</html>
